# The Log-Structured Merge-Tree

## 摘要
高性能事务处理系统通常将一条记录插入到历史表去提供快速的查找，并且同时，事务系统会生成日志来用于系统的恢复。这两种类型的生成的信息都可以从高效的索引中受益。一个为人熟知的场景（原文为setting）是TPC-A基准测试应用，支持从活动账号的历史表中查询指定账号的高效查询。这需要一个在快速增长的历史表上的位于account-id列的高效索引。不幸的是，经典的基于磁盘的索引结构比如B-tree，在维护类似这类索引的实时事务中会产生双倍的磁盘IO开销，这使得整个系统的开销升高了50%。显然，一个新的实时生成索引的方法是值得拥有的。The Log-Structured Merge-Tree(LSM-Tree)是一个基于磁盘设计的数据结构，它能为一个文件提供低消耗的索引，体验到在一段持续时间内的高速率的插入和删除操作。LSM树使用一种算法来推迟和批量索引的变更，用一种高效的方式使这些变更从一个基于内存的组件流向到一个或者多个硬盘组件上，这让人想起归并排序。在这期间所有的索引数据可以持续的提供检索（除了一段很短的加锁时间），不论是通过内存中或者是通过硬盘来查询。这个算法相比传统的类似B-Tree数据访问方法能够显著的降低磁盘机械臂的开销，并且同时能够提升在传统方法写入时磁盘机械臂的开销远大于存储介质开销的场景下的性能。LSM-Tree的方法也可推广到除了插入和删除之外的其他操作。当然，在某些情况下，需要快速响应的索引查找会降低I/O性能，所以LSM-Tree通常更适用于那些写入比检索更频繁的系统。这似乎是类似历史记录表，日志表的共同属性。在第六节的结尾比较了混合运用内存和磁盘的LSM-tree方案和通常认为的通过缓存磁盘页的混合方式优化方案。

### 引言
